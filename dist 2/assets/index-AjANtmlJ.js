import{L,_ as S,a as $}from"./LanguageSwitchMenu-Xmk-og7V.js";import{_ as C,a as E}from"./eye_closed-2qlzaRxr.js";import{r as i,a as m,c as v,b as e,t as f,u as s,m as p,L as I,H as w,g as k,_ as B,o as V,f as D,d as z,J as y,K as x,p as M,i as N,h as T}from"./index-lL9sqtyl.js";import{a as q}from"./request-1LUaphst.js";import"./selected-CI5jQlPY.js";const A={class:"login-container"},F={action:"/login",method:"post"},H={for:"username"},K=["placeholder"],P={for:"password"},R={class:"password"},J=["placeholder"],j={__name:"LoginForm",emits:["submit"],setup(c,{emit:g}){const d=i(null),n=i(null),l=i(!1);let r=i(!1);const h=g;function o(t){t.preventDefault(),h("submit",d.value.value,n.value.value)}function a(){n.value.type!="text"?(n.value.type="text",r.value=!0):(n.value.type="password",r.value=!1)}return(t,u)=>(m(),v("div",A,[e("form",F,[e("label",H,[e("b",null,f(s(p)("Invitation code")),1)]),e("input",{ref_key:"username",ref:d,type:"text",placeholder:s(p)("Enter account"),name:"username",required:""},null,8,K),e("label",P,[e("b",null,f(s(p)("Password")),1)]),e("div",R,[e("input",{ref_key:"password",ref:n,type:"password",placeholder:s(p)("Enter password"),name:"password",required:"",onInput:u[0]||(u[0]=b=>l.value=n.value.value.length>0)},null,40,J),l.value&&s(r)?(m(),v("img",{key:0,class:I(s(w)()!="ar"?"imgLtr":"imgRtl"),src:C,onClick:a},null,2)):k("",!0),l.value&&!s(r)?(m(),v("img",{key:1,class:I(s(w)()!="ar"?"imgLtr":"imgRtl"),src:E,onClick:a},null,2)):k("",!0)]),e("button",{type:"submit",onClick:u[1]||(u[1]=b=>o(b))},f(s(p)("Login")),1)])]))}},_=c=>(M("data-v-432e3489"),c=c(),N(),c),G={class:"lan_button_container"},O=_(()=>e("div",{style:{width:"12px"}},null,-1)),Q=_(()=>e("img",{src:S},null,-1)),U=_(()=>e("div",{style:{width:"12px"}},null,-1)),W={class:"container"},X=_(()=>e("img",{id:"logo",src:$},null,-1)),Y=_(()=>e("div",{style:{height:"100px"}},null,-1)),Z={__name:"index",setup(c){const g=i(null),d=i(null),n=i(!1),l=i(0);V(()=>{document.documentElement.scrollTop=0;let o=y,a=w();for(let t=0;t<o.length;t++)if(o[t]==a){l.value=t;break}});function r(o,a){const t=new FormData;t.append("username",o),t.append("password",a),q.post("/manager/login/guild",{username:o,password:a}).then(function(u){u.data.code==0?(d.value=u.data.data,localStorage.setItem("authorization",d.value),T.push("/home")):console.log("auth failed")}).catch(function(u){console.log(u)})}function h(o){n.value=!1,localStorage.setItem("currentLanguage",y[o]),y[o]=="ar"?document.documentElement.setAttribute("dir","rtl"):document.documentElement.setAttribute("dir","ltl"),l.value=o}return(o,a)=>(m(),v("div",{key:l.value,onClick:a[1]||(a[1]=t=>n.value=!1)},[e("div",G,[O,e("div",{class:"lan_button",ref_key:"lanButton",ref:g,onClick:a[0]||(a[0]=t=>{n.value=!0,t.stopPropagation()})},[e("span",null,f(s(x)[l.value]),1),Q],512),U]),n.value?(m(),D(L,{key:0,initialIndex:l.value,options:s(x),class:"switch_menu",onItem_selected:h},null,8,["initialIndex","options"])):k("",!0),e("div",W,[X,e("div",null,[z(j,{onSubmit:r})])]),Y]))}},se=B(Z,[["__scopeId","data-v-432e3489"]]);export{se as default};
