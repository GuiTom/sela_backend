import{_ as A}from"./gold_coin-3EP6hY8P.js";import{l as N}from"./loading-v2sXnt0B.js";import{a as B}from"./request-1LUaphst.js";import{A as $}from"./AppBar-67CipABS.js";import{_ as H,r as v,o as L,M as S,a as o,c as r,d as T,u as e,b as t,t as a,g as c,I as i,f as R,G as V,m as l,F as x,e as E,N as b,p as O,i as U}from"./index-lL9sqtyl.js";import{I as W}from"./InfiniteList-UY61RceK.js";import{A as j}from"./AnchorAvatar-FlVsFImZ.js";import{L as q}from"./LevelIcon-sbO8E_4B.js";import{m as D}from"./mony_amount-iEWsLrHE.js";import"./PlaceHolderImage-e5VJ0ByF.js";/* empty css                                                                         *//* empty css                                                                     */const m=_=>(O("data-v-c14dc568"),_=_(),U(),_),z={class:"container"},P={key:0,class:"base_info"},G={class:"avatar"},J={class:"name_and_level"},Y={class:"id_and_lateast_call"},Z={key:0,style:{"margin-left":"10px"}},K=m(()=>t("div",{class:"divider"},null,-1)),Q={key:1,class:"register_and_more_info"},X={key:0},ee={key:1},te={key:2},ae=m(()=>t("div",{class:"divider"},null,-1)),ne={key:2,class:"week_data"},se={style:{"font-size":"12px","font-weight":"400",color:"#999999"}},le={class:"week_data_container"},oe=m(()=>t("img",{class:"coin",src:A},null,-1)),ie=m(()=>t("img",{class:"coin",src:A},null,-1)),re=m(()=>t("div",{class:"divider"},null,-1)),de={class:"daily_data"},ue={class:"last_item"},ce={key:0,class:"divider"},me={key:4,style:{width:"100%",height:"100%",position:"fixed"}},pe=m(()=>t("img",{src:N,style:{width:"81px",height:"50px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},null,-1)),ve=[pe],w=20,_e={__name:"index",setup(_){const h=v(!1),g=v(!1),k=v(!1);var p=0,d=v(null),n=v(null);L(()=>{const s=S();n.value=JSON.parse(s.query.data),y(),document.documentElement.scrollTop=0});function C(){p=0,y()}function F(){let s=new Date;return Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())-8*60*60*1e3}function y(){if(k.value){console.log("没有更多数据了");return}if(g.value||h.value)return;p==0?g.value=!0:h.value=!0;let s="/manager/guildh5/page/anchor/day/incomes",u=S().query.anchorId,I=F();B.post(s,{condition:{anchorId:u,date:I},pageNum:p+1,pageSize:w}).then(function(f){p==0?(d.value=f.data,g.value=!1):(d.value.data.list=[...d.value.data.list,...f.data.data.list],h.value=!1),p++,(d.value.data.list==null||d.value.data.list.length<w)&&(k.value=!0)}).catch(function(f){console.log(f)})}return(s,M)=>(o(),r("div",z,[T($,{title:e(l)("Personal statistics")},null,8,["title"]),e(n)!=null?(o(),r("div",P,[t("span",G,[T(j,{onlineStatus:e(n).isOnline,isForbidden:e(n).userStatus==2,violated:e(n).userAuth==4,img:e(n).portrait},null,8,["onlineStatus","isForbidden","violated","img"])]),t("span",null,[t("div",J,[t("span",null,a(e(n).nickname),1),T(q,{level:e(n).level},null,8,["level"])]),t("div",Y,[t("span",null,"ID:"+a(e(n).anchorId),1),parseInt(e(n).lastCallAt)>0?(o(),r("span",Z,a(e(l)("Recent call"))+":"+a(s.$timeToFormatedDateTime(parseInt(e(n).lastCallAt))),1)):c("",!0)])])])):c("",!0),K,e(n)!=null?(o(),r("div",Q,[t("div",null,[i(a(e(l)("Registration date"))+"：",1),t("span",null,a(s.$timeToFormatedDateTime(parseInt(e(n).authTime))),1)]),e(n).violateCount?(o(),r("div",X,[i(a(e(l)("Overall violation times"))+"：",1),t("span",null,a(e(n).violateCount),1)])):c("",!0),e(n).banTime?(o(),r("div",ee,[i(a(e(l)("Unbanned on"))+"：",1),t("span",null,a(s.$timeToFormatedDateTime(parseInt(e(n).banTime))),1)])):c("",!0),e(n).banReason?(o(),r("div",te,[i(a(e(l)("Ban reason"))+"：",1),t("span",null,a(e(n).banReason),1)])):c("",!0)])):c("",!0),ae,e(n)!=null?(o(),r("div",ne,[t("div",null,[i(a(e(l)("Weekly statistics")),1),t("span",se,"-"+a(e(l)("Statistics update at xx:00 every day",24-(8-s.$timeZoneOfffsetHours()))),1)]),t("span",le,[t("span",null,[t("div",null,a(s.$timeToFormatedDateHour(parseInt(e(n).weekStatBeginAt))+"-"+s.$timeToFormatedDateHour(parseInt(e(n).weekStatEndAt))),1),t("div",null,[i(a(e(D)(e(n).weekCoins)),1),oe]),t("div",null,a(e(l)("Host earnings this week")),1)]),t("span",null,[t("div",null,a(s.$timeToFormatedDateHour(parseInt(e(n).lastWeekStatBeginAt))+"-"+s.$timeToFormatedDateHour(parseInt(e(n).lastWeekStatEndAt)+1)),1),t("div",null,[i(a(e(D)(e(n).lastWeekCoins)),1),ie]),t("div",null,a(e(l)("Host earnings last week")),1)])])])):c("",!0),re,e(d)!=null?(o(),R(W,{key:3,class:"list",onLoadMore:y,onRefresh:C,loadingMore:h.value,refreshing:g.value,noMoreData:k.value},{content:V(()=>[t("div",de,[e(d)!=null?(o(!0),r(x,{key:0},E(e(d).data.list,(u,I)=>(o(),r("div",null,[t("div",null,[i(a(e(l)("Date"))+"：",1),t("span",null,a(s.$timeToFormatedDate(parseInt(u.date))),1)]),t("div",null,[i(a(e(l)("Online duration"))+"：",1),t("span",null,a(e(b)(u.onlineDuration)),1)]),t("div",null,[i(a(e(l)("Average call duration"))+"：",1),t("span",null,a(e(b)(u.avCallDuration)),1)]),t("div",null,[i(a(e(l)("Number of calls"))+"：",1),t("span",null,a(u.callNum),1)]),t("div",null,[i(a(e(l)("Number of received gifts"))+"：",1),t("span",null,a(u.giftNum),1)]),t("div",ue,[i(a(e(l)("Earnings"))+"：",1),t("span",null,a(e(D)(u.coins)),1)]),e(d)!=null&&I<e(d).data.list.length-1?(o(),r("div",ce)):c("",!0)]))),256)):c("",!0)])]),_:1},8,["loadingMore","refreshing","noMoreData"])):(o(),r("div",me,ve))]))}},Ae=H(_e,[["__scopeId","data-v-c14dc568"]]);export{Ae as default};
