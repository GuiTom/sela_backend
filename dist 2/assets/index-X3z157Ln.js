import{t as i,a as x}from"./request-1LUaphst.js";import{_ as P,r as n,a as d,c as v,b as m,u as s,L as g,H as h,g as y,d as c,t as I,F as V,m as r,h as L}from"./index-lL9sqtyl.js";import{_ as N,a as b}from"./eye_closed-2qlzaRxr.js";import{A as B}from"./AppBar-67CipABS.js";const S={class:"password"},q=["placeholder"],R={__name:"CoustomInput",props:{placeholder:{type:String,required:!0},type:{type:String,required:!0}},setup(w,{expose:t}){const a=n(!1),e=n(null);var u="";let o=n(!1);function l(){e.value.type!="text"?(e.value.type="text",o.value=!0):(e.value.type="password",o.value=!1)}function p(){a.value=e.value.value.length>0,u=e.value.value}function k(){return u}return t({value:k}),(A,_)=>(d(),v("div",S,[m("input",{ref_key:"password",ref:e,type:"password",placeholder:w.placeholder,name:"password",required:"",onInput:_[0]||(_[0]=(...C)=>p&&p(...C))},null,40,q),a.value&&s(o)?(d(),v("img",{key:0,class:g(s(h)()!="ar"?"imgLtr":"imgRtl"),src:N,onClick:l},null,2)):y("",!0),a.value&&!s(o)?(d(),v("img",{key:1,class:g(s(h)()!="ar"?"imgLtr":"imgRtl"),src:b,onClick:l},null,2)):y("",!0)]))}},f=P(R,[["__scopeId","data-v-e2a374a0"]]),T={__name:"index",setup(w){const t=n(null),a=n(null),e=n(null);function u(){if(console.log(t.value.value(),a.value.value(),e.value.value()),t.value.value()==""||t.value.value()==null){i(r("Please enter the original password"));return}if(a.value.value()==""||a.value.value()==null){i(r("Please enter the new password"));return}if(e.value.value()==""||e.value.value()==null){i(r("Reenter new password"));return}if(a.value.value()!=e.value.value()){i(r("Twice password diff"));return}const o="/manager/guildh5/change/password";x.post(o,{oldPassword:t.value.value(),newPassword:a.value.value()}).then(function(l){l.data.code==0&&(localStorage.clear(),L.go(-1))}).catch(function(l){console.log(l)})}return(o,l)=>(d(),v(V,null,[c(B,{title:s(r)("Change password")},null,8,["title"]),m("div",{class:"container",onClick:l[0]||(l[0]=p=>p.stopPropagation())},[c(f,{type:"password",ref_key:"primaryPassword",ref:t,placeholder:s(r)("Please enter the original password")},null,8,["placeholder"]),c(f,{type:"password",ref_key:"newPassword",ref:a,placeholder:s(r)("Please enter the new password")},null,8,["placeholder"]),c(f,{type:"password",ref_key:"confirmNewPassword",ref:e,placeholder:s(r)("Please confirm the new password")},null,8,["placeholder"]),m("button",{type:"submit",onClick:u},I(s(r)("Confirm")),1)])],64))}},D=P(T,[["__scopeId","data-v-b834c41e"]]);export{D as default};
