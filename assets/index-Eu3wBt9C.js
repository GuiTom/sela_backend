import{_ as w}from"./gold_coin-3EP6hY8P.js";import{_ as N,e as _,f as C,n as T,g as $,o as i,c as r,q as y,u as e,a,t,b as d,h as o,i as B,w as M,m as s,F as H,j as L,p as R,k as V}from"./index-52qotzx8.js";import{A as O}from"./AppBar-SKXUrS4O.js";import{I as q}from"./InfiniteList-eYSw6d5E.js";import{A as E,L as W}from"./LevelIcon-qt8fKqRc.js";import{c as S}from"./mony_amount-QCzkSyS7.js";const p=m=>(R("data-v-c3630e77"),m=m(),V(),m),z={class:"container"},P={key:0,class:"base_info"},j={class:"avatar"},J={class:"name_and_level"},U={class:"id_and_lateast_call"},Z={key:0},G=p(()=>a("div",{class:"divider"},null,-1)),K={key:1,class:"register_and_more_info"},Q={key:0},X={key:1},Y={key:2},x=p(()=>a("div",{class:"divider"},null,-1)),ee={key:2,class:"week_data"},ae={style:{"font-size":"12px","font-weight":"400",color:"#999999"}},te={class:"week_data_container"},ne=p(()=>a("img",{class:"coin",src:w},null,-1)),se=p(()=>a("img",{class:"coin",src:w},null,-1)),le=p(()=>a("div",{class:"divider"},null,-1)),oe={class:"daily_data"},ie={class:"last_item"},re={key:0,class:"divider"},b=20,ue={__name:"index",setup(m){const h=_(!1),f=_(!1),k=_(!1);var v=0,u=_(null),n=_(null);C(()=>{const l=T();n.value=JSON.parse(l.query.data),console.log(n.value.authTime),D()});function A(){v=0,D()}function D(){if(k.value){console.log("没有更多数据了");return}if(f.value||h.value)return;v==0?f.value=!0:h.value=!0;let l="/manager/guildh5/page/anchor/day/incomes",c=T().query.anchorId,I=new Date().getTime();$.post(l,{condition:{anchorId:c,date:I},pageNum:v+1,pageSize:b}).then(function(g){v==0?(u.value=g.data,f.value=!1):(u.value.data.list=[...u.value.data.list,...g.data.data.list],h.value=!1),v++,(u.value.data.list==null||u.value.data.list.length<b)&&(k.value=!0)}).catch(function(g){console.log(g)})}return(l,F)=>(i(),r("div",z,[y(O,{title:e(s)("Personal statistics")},null,8,["title"]),e(n)!=null?(i(),r("div",P,[a("span",j,[y(E,{onlineStatus:e(n).isOnline,isForbidden:e(n).userStatus==2,img:e(n).portrait},null,8,["onlineStatus","isForbidden","img"])]),a("span",null,[a("div",J,[a("span",null,t(e(n).nickname),1),y(W,{level:e(n).level},null,8,["level"])]),a("div",U,[a("span",null,"ID:"+t(e(n).anchorId),1),parseInt(e(n).lastCallAt)>0?(i(),r("span",Z,t(e(s)("Recent call"))+":"+t(l.$timeToFormatedDate(e(n).lastCallAt)),1)):d("",!0)])])])):d("",!0),G,e(n)!=null?(i(),r("div",K,[a("div",null,[o(t(e(s)("Registration date"))+"：",1),a("span",null,t(l.$timeToFormatedDate(parseInt(e(n).authTime))),1)]),e(n).banCount?(i(),r("div",Q,[o(t(e(s)("Overall violation times"))+"：",1),a("span",null,t(e(n).banCount),1)])):d("",!0),e(n).banTime?(i(),r("div",X,[o(t(e(s)("Unbanned on"))+"：",1),a("span",null,t(l.$timeToFormatedDate(e(n).banTime)),1)])):d("",!0),e(n).banReason?(i(),r("div",Y,[o(t(e(s)("Ban reason"))+"：",1),a("span",null,t(e(n).banReason),1)])):d("",!0)])):d("",!0),x,e(n)!=null?(i(),r("div",ee,[a("div",null,[o(t(e(s)("Weekly statistics")),1),a("span",ae,"-每周"+t(24-(8-l.$timeZoneOfffsetHours()))+"点更新",1)]),a("span",te,[a("span",null,[a("div",null,t(l.$timeToFormatedDateHour(parseInt(e(n).weekStatBeginAt))+"-"+l.$timeToFormatedDateHour(parseInt(e(n).weekStatEndAt))),1),a("div",null,[o(t(e(S)(e(n).weekCoins)),1),ne]),a("div",null,t(e(s)("Host earnings this week")),1)]),a("span",null,[a("div",null,t(l.$timeToFormatedDateHour(parseInt(e(n).lastWeekStatBeginAt))+"-"+l.$timeToFormatedDateHour(parseInt(e(n).lastWeekStatEndAt))),1),a("div",null,[o(t(e(S)(e(n).lastWeekCoins)),1),se]),a("div",null,t(e(s)("Host earnings last week")),1)])])])):d("",!0),le,e(u)!=null?(i(),B(q,{key:3,class:"list",onLoadMore:D,onRefresh:A,loadingMore:h.value,refreshing:f.value,noMoreData:k.value},{content:M(()=>[a("div",oe,[e(u)!=null?(i(!0),r(H,{key:0},L(e(u).data.list,(c,I)=>(i(),r("div",null,[a("div",null,[o(t(e(s)("Date"))+"：",1),a("span",null,t(l.$timeToFormatedDate(parseInt(c.date))),1)]),a("div",null,[o(t(e(s)("Online duration"))+"：",1),a("span",null,t(c.onlineDuration),1)]),a("div",null,[o(t(e(s)("Average call duration"))+"：",1),a("span",null,t(c.avCallDuration),1)]),a("div",null,[o(t(e(s)("Number of calls"))+"：",1),a("span",null,t(c.callNum),1)]),a("div",null,[o(t(e(s)("Number of received gifts"))+"：",1),a("span",null,t(c.giftNum),1)]),a("div",ie,[o(t(e(s)("Earnings"))+"：",1),a("span",null,t(c.coins),1)]),e(u)!=null&&I<e(u).data.list.length-1?(i(),r("div",re)):d("",!0)]))),256)):d("",!0)])]),_:1},8,["loadingMore","refreshing","noMoreData"])):d("",!0)]))}},he=N(ue,[["__scopeId","data-v-c3630e77"]]);export{he as default};
