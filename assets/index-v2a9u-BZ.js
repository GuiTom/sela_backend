import{_ as y}from"./gold_coin-3EP6hY8P.js";import{A as M}from"./AppBar-SKXUrS4O.js";import{_ as D,e as f,f as x,n as S,g as B,o as r,c as p,a as e,q as V,u as a,i as q,w as L,b as v,F as b,m as o,t,j as w,h as F,p as T,k as z}from"./index-52qotzx8.js";import{I as A}from"./InfiniteList-eYSw6d5E.js";const C=u=>(T("data-v-cbb1b7cc"),u=u(),z(),u),E={class:"container"},R={border:"0"},j={key:0},H={class:"item"},O=C(()=>e("img",{class:"coin",src:y},null,-1)),I=20,P={__name:"index",setup(u){const i=f(!1),c=f(!1),h=f(!1);var s=0,l=f(null);x(()=>{m()});function N(){s=0,m()}function m(){if(h.value){console.log("没有更多数据了");return}if(c.value||i.value)return;s==0?c.value=!0:i.value=!0;let _="/manager/guildh5/page/anchor/day/incomes";const g=S(),n=g.query.guildId;let k=g.query.date;B.post(_,{condition:{guildId:n,date:k},pageNum:s+1,pageSize:I}).then(function(d){s==0?(l.value=d.data,c.value=!1):(l.value.list=[...l.value.list,...d.data.list],i.value=!1),s++,(l.value.list==null||l.value.list.length<I)&&(h.value=!0)}).catch(function(d){console.log(d)})}return(_,g)=>(r(),p(b,null,[e("div",E,[V(M,{title:a(o)("Daily statistics")},null,8,["title"])]),a(l)!=null?(r(),q(A,{key:0,class:"list",onLoadMore:m,onRefresh:N,loadingMore:i.value,refreshing:c.value,noMoreData:h.value},{content:L(()=>[e("table",null,[e("thead",R,[e("tr",null,[e("th",null,t(a(o)("Host nickname")),1),e("th",null,t(a(o)("Online duration")),1),e("th",null,t(a(o)("Number of calls")),1),e("th",null,t(a(o)("Number of received gifts")),1),e("th",null,t(a(o)("Earnings")),1)])]),a(l)!=null?(r(),p("tbody",j,[(r(!0),p(b,null,w(a(l).data.list,n=>(r(),p("tr",H,[e("td",null,t(n.nickname),1),e("td",null,t(_.$timeToFormatedTime(n.onlineDuration)),1),e("td",null,t(n.callNum),1),e("td",null,t(n.giftNum),1),e("td",null,[F(t(n.coins),1),O])]))),256))])):v("",!0)])]),_:1},8,["loadingMore","refreshing","noMoreData"])):v("",!0)],64))}},Q=D(P,[["__scopeId","data-v-cbb1b7cc"]]);export{Q as default};
